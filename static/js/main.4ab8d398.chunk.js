(this["webpackJsonpbook-read-app"]=this["webpackJsonpbook-read-app"]||[]).push([[0],{31:function(e,a,t){e.exports=t(79)},36:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(19),c=t.n(l),r=t(26),s=t(20),i=t(21),m=t(28),u=t(27),d=t(12),h="https://reactnd-books-api.udacity.com",b=localStorage.token;b||(b=localStorage.token=Math.random().toString(36).substr(-8));var E={Accept:"application/json",Authorization:b},v=(t(36),t(8)),k=function(e){var a=e.items,t=e.action;return o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},"Currently Reading"),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},a.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:'url("'.concat(e.imageLinks.thumbnail,'")')}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{onChange:function(a){t(e,e.shelf,a.target.value)},value:e.shelf},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))),o.a.createElement("div",{className:"book-title"},e.title),o.a.createElement("div",{className:"book-authors"},e.authors)))})))))},f=function(e){var a=e.items,t=e.action;return o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},"Want to Read"),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},a.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:'url("'.concat(e.imageLinks.thumbnail,'")')}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{onChange:function(a){t(e,e.shelf,a.target.value)},value:e.shelf},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))),o.a.createElement("div",{className:"book-title"},e.title),o.a.createElement("div",{className:"book-authors"},e.authors)))})))))},p=function(e){var a=e.items,t=e.action;return o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},"Read"),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},a.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:'url("'.concat(e.imageLinks.thumbnail,'")')}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{onChange:function(a){t(e,e.shelf,a.target.value)},value:e.shelf},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))),o.a.createElement("div",{className:"book-title"},e.title),o.a.createElement("div",{className:"book-authors"},e.authors)))})))))},g=function(e){var a=e.books,t=e.changeShelf;return o.a.createElement("div",{className:"list-books"},o.a.createElement("div",{className:"list-books-title"},o.a.createElement("h1",null,"MyReads")),o.a.createElement("div",{className:"list-books-content"},o.a.createElement("div",null,o.a.createElement(k,{items:a.currentlyReading,action:t}),o.a.createElement(f,{items:a.wantToRead,action:t}),o.a.createElement(p,{items:a.read,action:t}))),o.a.createElement("div",{className:"open-search"},o.a.createElement(v.b,{to:"/search"},o.a.createElement("button",null,"Add a book"))))},N=function(){return o.a.createElement("div",{className:"search-books"},o.a.createElement("div",{className:"search-books-bar"},o.a.createElement(v.b,{to:"/"},o.a.createElement("button",{className:"close-search"},"Close")),o.a.createElement("div",{className:"search-books-input-wrapper"},o.a.createElement("input",{type:"text",placeholder:"Search by title or author"}))),o.a.createElement("div",{className:"search-books-results"},o.a.createElement("ol",{className:"books-grid"})))},R=t(3),y=t(23),w=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).changeShelf=function(e,a,t){var o,l,c=Object.assign({},n.state);c.books[a].find((function(a){return a.id===e.id})).shelf=t,c.books[t]=[].concat(Object(r.a)(c.books[t]),[e]),c.books[a]=c.books[a].filter((function(a){return a.id!==e.id})),n.setState(c),o=e,l=t,fetch("".concat(h,"/books/").concat(o.id),{method:"PUT",headers:Object(d.a)(Object(d.a)({},E),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:l})}).then((function(e){return e.json()}))},n.state={books:{currentlyReading:[],wantToRead:[],read:[]}},n}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(h,"/books"),{headers:E}).then((function(e){return e.json()})).then((function(e){return e.books})).then((function(a){e.setState((function(){return{books:{currentlyReading:a.filter((function(e){return"currentlyReading"===e.shelf})),wantToRead:a.filter((function(e){return"wantToRead"===e.shelf})),read:a.filter((function(e){return"read"===e.shelf}))}}}))}))}},{key:"render",value:function(){var e=this,a=this.state.books;return 0!==a.currentlyReading.length||0!==a.wantToRead.length||0!==a.read.length?o.a.createElement("div",{className:"app"},o.a.createElement(R.a,{exact:!0,path:"/",render:function(){return o.a.createElement(g,{books:e.state.books,changeShelf:e.changeShelf})}}),o.a.createElement(R.a,{exact:!0,path:"/search",render:function(){return o.a.createElement(N,null)}})):o.a.createElement("div",{className:"app"},o.a.createElement(y.CoffeeLoading,null))}}]),t}(o.a.Component);t(78);c.a.render(o.a.createElement(v.a,null,o.a.createElement(w,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.4ab8d398.chunk.js.map