(this["webpackJsonpbook-read-app"]=this["webpackJsonpbook-read-app"]||[]).push([[0],{30:function(e,a,t){e.exports=t(78)},35:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(19),c=t.n(l),r=t(20),s=t(21),i=t(27),m=t(26),u=t(12),d="https://reactnd-books-api.udacity.com",h=localStorage.token;h||(h=localStorage.token=Math.random().toString(36).substr(-8));var E={Accept:"application/json",Authorization:h},b=(t(35),t(8)),v=function(e){var a=e.items,t=e.action;return o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},"Currently Reading"),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},a.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:'url("'.concat(e.imageLinks.thumbnail,'")')}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{onChange:function(a){t(e,a.target.value)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))),o.a.createElement("div",{className:"book-title"},e.title),o.a.createElement("div",{className:"book-authors"},e.authors)))})))))},k=function(e){var a=e.items,t=e.action;return o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},"Want to Read"),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},a.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:'url("'.concat(e.imageLinks.thumbnail,'")')}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{onChange:function(a){t(e,a.target.value)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))),o.a.createElement("div",{className:"book-title"},e.title),o.a.createElement("div",{className:"book-authors"},e.authors)))})))))},f=function(e){var a=e.items,t=e.action;return o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},"Read"),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},a.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:'url("'.concat(e.imageLinks.thumbnail,'")')}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{onChange:function(a){t(e,a.target.value)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))),o.a.createElement("div",{className:"book-title"},e.title),o.a.createElement("div",{className:"book-authors"},e.authors)))})))))},p=function(e){var a=e.books,t=e.changeShelf;return o.a.createElement("div",{className:"list-books"},o.a.createElement("div",{className:"list-books-title"},o.a.createElement("h1",null,"MyReads")),o.a.createElement("div",{className:"list-books-content"},o.a.createElement("div",null,o.a.createElement(v,{items:a.filter((function(e){return"currentlyReading"===e.shelf})),action:t}),o.a.createElement(k,{items:a.filter((function(e){return"wantToRead"===e.shelf})),action:t}),o.a.createElement(f,{items:a.filter((function(e){return"read"===e.shelf})),action:t}))),o.a.createElement("div",{className:"open-search"},o.a.createElement(b.b,{to:"/search"},o.a.createElement("button",null,"Add a book"))))},N=function(){return o.a.createElement("div",{className:"search-books"},o.a.createElement("div",{className:"search-books-bar"},o.a.createElement(b.b,{to:"/"},o.a.createElement("button",{className:"close-search"},"Close")),o.a.createElement("div",{className:"search-books-input-wrapper"},o.a.createElement("input",{type:"text",placeholder:"Search by title or author"}))),o.a.createElement("div",{className:"search-books-results"},o.a.createElement("ol",{className:"books-grid"})))},g=t(3),y=t(23),R=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).changeShelf=function(e,a){console.log(e.title+"  "+a),function(e,a){fetch("".concat(d,"/books/").concat(e.id),{method:"PUT",headers:Object(u.a)(Object(u.a)({},E),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:a})}).then((function(e){return e.json()}))}(e,a)},n.state={books:[]},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(d,"/books"),{headers:E}).then((function(e){return e.json()})).then((function(e){return e.books})).then((function(a){e.setState((function(){return{books:a}}))}))}},{key:"render",value:function(){var e=this;return 0!==this.state.books.length?o.a.createElement("div",{className:"app"},o.a.createElement(g.a,{exact:!0,path:"/",render:function(){return o.a.createElement(p,{books:e.state.books,changeShelf:e.changeShelf})}}),o.a.createElement(g.a,{exact:!0,path:"/search",render:function(){return o.a.createElement(N,null)}})):o.a.createElement("div",{className:"app"},o.a.createElement(y.CoffeeLoading,null))}}]),t}(o.a.Component);t(77);c.a.render(o.a.createElement(b.a,null,o.a.createElement(R,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.1ec51fe0.chunk.js.map